{"version":3,"sources":["scenes/UserServices/scenes/Profile/index.tsx","services/utils/treeTravers.ts","components/CustomeSelectCategory.tsx","components/CustomeInputComponent.tsx","services/utils/calculateOptions.ts","scenes/Dashboard/Scenes/CreateCompany/components/CompanyMap.tsx","scenes/Dashboard/Scenes/CreateCompany/constants.ts","scenes/UserServices/scenes/Profile/constants.tsx","components/CustomeTextAreaComponent.tsx","components/forms/CompanyForm.tsx"],"names":["Index","data","useSWR","baseCompanyUrl","className","status","initialValue","hasChildren","node","children","length","flattenToArray","arr","concat","notHaveChildren","renameProp","rest","subRows","Tree","reduce","_","reducerFn","init","acc","map","mapFn","newNode","mapChangeChildrenName","hasSubRows","styles","control","provided","border","dropdownIndicator","color","indicatorSeparator","CustomeSelectCategory","calculateOptions","label","field","form","touched","errors","setFieldValue","setFieldTouched","useState","searchValue","setSearchValue","isError","name","debouncedLoadOptions","useCallback","inputValue","callback","api","adminApi","getCategories","search","then","cacheOptions","isClearable","defaultOptions","loadOptions","e","cb","onInputChange","newValue","placeholder","onChange","value","onFocus","onBlur","noOptionsMessage","loadingMessage","role","CustomInputComponent","props","calculateLeafs","notHaveChildrenArray","d","item","id","title","parent_title","calculateFlatten","flattenTree","flattenVersion","console","log","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","position","CompanyMap","state","setState","Fragment","Map","onClick","newPosition","latlng","lat","lng","center","zoom","TileLayer","url","attribution","Marker","Popup","adminCreatevalidationSchema","Yup","username","required","password1","password2","when","is","val","oneOf","category","moreThan","manager_name","description","address","mobile_number","typeError","phone_number","companyEditValitionSchema","location","company_number","zip_code","CustomeTextAreaComponent","CompanyForm","canCreate","canEdit","initialValues","validationSchema","onSubmit","values","setSubmitting","isSubmitting","type","component","classnames","rows","JSON","stringify"],"mappings":"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","file":"static/js/9.50caa41c.chunk.js","sourcesContent":["import React from \"react\";\nimport { ICompanyEditFormikState } from \"./models\";\nimport CompanyForm from \"../../../../components/forms/CompanyForm\";\nimport { ICompanyRes } from \"../../../../services/utils/api/models\";\nimport useSWR from \"swr\";\nimport { baseCompanyUrl } from \"../../../../services/utils/api/myCompany\";\nimport Spinner from \"../../../../components/Spinner\";\n\nexport const Index = () => {\n  const { data } = useSWR<ICompanyRes[]>(`${baseCompanyUrl}/my_company/`);\n  return (\n    <div className=\"row\">\n      <div className=\"col-sm-12\">\n        <div className=\"card card-body\">\n          <h4 className=\"card-title\">پروفایل</h4>\n          <h5 className=\"card-subtitle\">\n            ازین قسمت میتوانید پروفایل خود را مشاهده و درصورت نیاز تغییر دهید\n          </h5>\n          {!data && <Spinner />}\n          {data && (\n            <CompanyForm<ICompanyRes>\n              status=\"company-edit\"\n              initialValue={data[0]}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Index;\n","import * as _ from \"lodash\";\nimport { ICategoryRes } from \"./api/Admin/models\";\n\ninterface ITree {\n  reduce: any;\n  map: any;\n  mapChangeChildrenName: any;\n}\nfunction hasChildren(node: any) {\n  return (\n    typeof node === \"object\" &&\n    typeof node.children !== \"undefined\" &&\n    node.children.length > 0\n  );\n}\n\nexport function flattenToArray(arr:any, {children, ...data} :any) {\n    return arr.concat([{...data}]);\n}\nfunction hasSubRows(node: any) {\n  return (\n    typeof node === \"object\" &&\n    typeof node.subRows !== \"undefined\" &&\n    node.subRows.length > 0\n  );\n}\n\nexport function notHaveChildren(arr: any, data: any) {\n  if (!data.children.length) {\n    return arr.concat([{ ...data }]);\n  }\n  return arr;\n}\nexport function renameProp(node: any) {\n  const { children, ...rest } = node;\n  return {\n    ...rest,\n    subRows: children,\n  };\n}\n\nexport const Tree: ITree = {\n  reduce: _.curry<any, any, any, any>(function reduce(reducerFn, init, node) {\n    const acc = reducerFn(init, node);\n    if (!hasChildren(node)) {\n      return acc;\n    }\n    return node.children.reduce(Tree.reduce(reducerFn), acc);\n  }),\n  map: _.curry<any, any, any>(function map(mapFn, node) {\n    const newNode = mapFn(node);\n    if (hasChildren(node)) {\n      return newNode;\n    }\n    newNode.children = node.children.map(Tree.map(mapFn));\n    return newNode;\n  }),\n  mapChangeChildrenName: _.curry<any, any, any>(function map(mapFn, node) {\n    const newNode = mapFn(node);\n    if (hasSubRows(node)) {\n      return newNode;\n    }\n    newNode.subRows = node.children.map(Tree.mapChangeChildrenName(mapFn));\n    return newNode;\n  }),\n};\n","import {FieldAttributes} from \"formik\";\nimport * as _ from \"lodash\";\nimport React, {useCallback, useState} from \"react\";\nimport {OptionsType, OptionTypeBase, StylesConfig} from \"react-select\";\nimport AsyncSelect from \"react-select/async\";\nimport api from \"../services/utils/api\";\n\n\nconst styles: StylesConfig = {\n  control: (provided) => ({\n    ...provided,\n    border: \"1px solid red\",\n  }),\n  dropdownIndicator: (provided) => ({ ...provided, color: \"red\" }),\n  indicatorSeparator: (provided) => ({ ...provided, color: \"red\" }),\n};\n\nconst CustomeSelectCategory: React.FC<FieldAttributes<any>> = ({\n\tcalculateOptions,\n  label,\n  field, // { name, value, onChange, onBlur }\n  form: { touched, errors, setFieldValue, setFieldTouched }, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n}) => {\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const handleSearchValueChange = (newValue: string) =>\n    setSearchValue(newValue);\n  const isError = touched[field.name] && errors[field.name];\n  const handleChange = (e: any) => {\n    e && e.value && setFieldValue(field.name, e.value, false);\n    !e && setFieldValue(field.name, 0, false);\n  };\n  const handleFocus = () => {\n    setFieldTouched(field.name, false, true);\n  };\n  const handleBlur = () => {\n    setFieldTouched(field.name, true, true);\n  };\n  const promiseOptions = (\n    inputValue: string,\n    callback: (options: OptionsType<OptionTypeBase>) => void\n  ) => {\n    api.adminApi.getCategories({ search: inputValue }).then(({ data }) => {\n      callback(calculateOptions(data)!);\n    });\n  };\n\n  const debouncedLoadOptions = useCallback(\n    _.debounce(promiseOptions, 1000),\n    []\n  );\n\n  return (\n    <>\n      <label>{label}</label>\n      <AsyncSelect\n        cacheOptions\n        isClearable\n        defaultOptions\n        loadOptions={(e, cb) => debouncedLoadOptions(e, cb)}\n        inputValue={searchValue}\n        onInputChange={handleSearchValueChange}\n        placeholder=\"انتخاب کنید\"\n        onChange={handleChange}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        styles={isError && styles}\n        noOptionsMessage={() => \"موردی یافت نشد!\"}\n        loadingMessage={() => \"در حال بارگذاری...\"}\n      />\n\n      {isError && (\n        <div role=\"alert\" className=\"text-danger form-control-feedback\">\n          {errors[field.name]}\n        </div>\n      )}\n    </>\n  );\n};\nexport default CustomeSelectCategory;\n","import React from \"react\";\nimport { FieldAttributes } from \"formik\";\n\nconst CustomInputComponent: React.FC<FieldAttributes<any>> = ({\n  label,\n  field, // { name, value, onChange, onBlur }\n  form: { touched, errors }, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n  ...props\n}) => {\n  const isError = touched[field.name] && errors[field.name];\n  return (\n    <div\n      className={`form-group  ${props.className? props.className: \"\"} ${isError ? \"has-danger\" : \"\"}`}\n    >\n      <label>{label}</label>\n      <input\n        {...field}\n        {...props}\n        className={`${isError ? \"form-control-danger\" : \"\"} form-control`}\n      />\n      {}\n      {isError && (\n        <div role=\"alert\" className=\"form-control-feedback\">\n          {errors[field.name]}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CustomInputComponent;\n","import { ICategoryRes } from \"./api/Admin/models\";\nimport { Tree, notHaveChildren, flattenToArray } from \"./treeTravers\";\nimport * as _ from \"lodash\";\n\nexport const calculateLeafs = (data: ICategoryRes[]) => {\n  if (data) {\n    const notHaveChildrenArray = data.map((d) =>\n      Tree.reduce(notHaveChildren, [], d)\n    );\n    const flattenVersion = _.flatten(notHaveChildrenArray);\n    const options = flattenVersion.map((item) => ({\n      value: item.id,\n      label: item.title,\n      parent_title: item.parent_title,\n    }));\n    return options;\n  }\n};\nexport const calculateFlatten = (data: ICategoryRes[]) => {\n  if (data) {\n    const flattenTree = data.map((d) => Tree.reduce(flattenToArray, [], d));\n    const flattenVersion = _.flatten(flattenTree);\n    console.log(flattenVersion);\n    const options = flattenVersion.map((item) => ({\n      value: item.id,\n      label: item.title,\n      parent_title: item.parent_title,\n    }));\n\treturn options\n    // return flattenTree\n  }\n};\n","import React,{useState} from \"react\";\n// import { Map, Marker, Popup, TileLayer } from \"react-leaflet\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport L, {LatLngTuple, LeafletMouseEvent} from \"leaflet\";\nimport {FieldAttributes} from \"formik\";\n\n\ndelete ((L.Icon.Default)as any).prototype._getIconUrl;\n\n\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\n// L.Icon.Default.imagePath = \"../../../../../assets/images/\";\nconst position = [35.64961, 51.166359] as LatLngTuple;\n\n\n\nexport const CompanyMap: React.FC<FieldAttributes<any>> = ({\n  field, // { name, value, onChange, onBlur }\n  form: { touched, errors,setFieldValue }, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n\n}) => {\n\t const [state , setState] = useState<LatLngTuple> (position)\n\t const handleClick = (e :LeafletMouseEvent) => {\n\t\t const newPosition = [e.latlng.lat ,e.latlng.lng] as LatLngTuple\n\t\t setState(newPosition)\n\t\t setFieldValue(field.name ,newPosition,false)\n\t }\n\n  return (\n\t<React.Fragment>\n\n\t\t<Map onClick={handleClick}  center={position} zoom={13}>\n\t\t<TileLayer\n\t\t  url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n\t\t  attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t/>\n\t\t<Marker position={state}>\n\t\t  <Popup>\n\t\t\t<br />\n\t\t  </Popup>\n\t\t</Marker>\n\t  </Map>\n\t</React.Fragment>\n  );\n}; \n\nexport default CompanyMap\n","import * as Yup from \"yup\";\nimport { utils } from \"react-modern-calendar-datepicker\";\nimport { convertStringToDate } from \"../../../../services/utils/convertStringToDate\";\nexport const adminCreatevalidationSchema = Yup.object({\n  username: Yup.string().required(\"نام کاربری را وارد کنید\"),\n  password1: Yup.string().required(\"رمز عبور را وارد کنید\"),\n  password2: Yup.string()\n    .required(\"تکرار رمز عبور الزامی است\")\n    .when(\"password\", {\n      is: (val) => !!(val && val.length > 0),\n      then: Yup.string().oneOf(\n        [Yup.ref(\"password1\")],\n        \"ﺮﻣﺯ ﻊﺑﻭﺭ ﺏﺍ ﺖﮐﺭﺍﺭ ﺂﻧ ﺏﺎﯾﺩ ﺏﺭﺎﺑﺭ ﺏﺎﺷﺩ\"\n      ),\n    }),\n  category: Yup.number().moreThan(1, \"لطفا دسته بندی را انتخاب کنید\"),\n  manager_name: Yup.string().required(\"لطفا نام مدیرعامل را وارد کنید\"),\n  name: Yup.string().required(\"لطفا نام شرکت را وارد کنید\"),\n  description: Yup.string().required(\"لطفا نام شرکت را وارد کنید\"),\n  address: Yup.string().required(\"لطفا آدرس را وارد کنید\"),\n  mobile_number: Yup.number()\n    .typeError(\"شماره موبایل نمیتواند حروف باشد\")\n    .required(\"لطفا شماره موبایل خود را وارد کنید\"),\n  phone_number: Yup.number()\n    .typeError(\"شماره تلفن شرکت نمیتواند حروف باشد\")\n    .required(\"شماره تلفن شرکت را وارد کنید\"),\n});\n\n// zip_code: Yup.number()\n//   .typeError(\"کد پستی نمیتواند حروف باشد \")\n//   .required(\"کد پستی را وارد کنید\"),\n// end_date: Yup.string().required(\"تاریخ پایان را وارد کنید\"),\n// start_date: Yup.string()\n//   .required(\"تاریخ شروع را وارد کنید\")\n//   .test(\"isBefore\", \"تاریخ شروع باید قبل از تاریخ پایان باشد\", function (\n//     value\n//   ) {\n//     const endDate = this.parent.end_date as string;\n//     if (endDate) {\n//       return utils(\"fa\").isBeforeDate(\n//         convertStringToDate(value),\n//         convertStringToDate(endDate)\n//       );\n//     }\n//     return true;\n//   }),\n","import * as Yup from \"yup\";\nimport { utils } from \"react-modern-calendar-datepicker\";\nimport { convertStringToDate } from \"../../../../services/utils/convertStringToDate\";\nexport const companyEditValitionSchema= Yup.object({\n  name: Yup.string().required(\"لطفا نام شرکت را وارد کنید\"),\n  location: Yup.string().required(\"لطفا آدرس را وارد کنید\"),\n  phone_number: Yup.number()\n    .typeError(\"شماره موبایل نمیتواند حروف باشد\")\n    .required(\"لطفا شماره موبایل خود را وارد کنید\"),\n  company_number: Yup.number()\n    .typeError(\"شماره تلفن شرکت نمیتواند حروف باشد\")\n    .required(\"شماره تلفن شرکت را وارد کنید\"),\n  zip_code: Yup.number()\n    .typeError(\"کد پستی نمیتواند حروف باشد \")\n    .required(\"کد پستی را وارد کنید\"),\n});\n","\nimport React from \"react\";\nimport { FieldAttributes } from \"formik\";\n\nconst CustomeTextAreaComponent: React.FC<FieldAttributes<any>> = ({\n  label,\n  field, // { name, value, onChange, onBlur }\n  form: { touched, errors }, // also values, setXXXX, handleXXXX, dirty, isValid, status, etc.\n  ...props\n}) => {\n  const isError = touched[field.name] && errors[field.name];\n  return (\n    <div\n      className={`form-group ${props.className} ${isError ? \"has-danger\" : \"\"}`}\n    >\n      <label>{label}</label>\n      <textarea\n        {...field}\n        {...props}\n        className={`${isError ? \"form-control-danger\" : \"\"} form-control`}\n  ></textarea>\n      {}\n      {isError && (\n        <div role=\"alert\" className=\"form-control-feedback\">\n          {errors[field.name]}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CustomeTextAreaComponent;\n","// Render Prop\nimport { Field, Form, Formik } from \"formik\";\nimport React from \"react\";\nimport CompanyMap from \"../../scenes/Dashboard/Scenes/CreateCompany/components/CompanyMap\";\nimport CustomeSelectCategory from \"../CustomeSelectCategory\";\nimport { adminCreatevalidationSchema } from \"../../scenes/Dashboard/Scenes/CreateCompany/constants\";\nimport { IAdminCreateCompanyFormikState } from \"../../scenes/Dashboard/Scenes/CreateCompany/models\";\nimport { companyEditValitionSchema } from \"../../scenes/UserServices/scenes/Profile/constants\";\nimport { ICompanyEditFormikState } from \"../../scenes/UserServices/scenes/Profile/models\";\nimport CustomInputComponent from \"../CustomeInputComponent\";\nimport CustomeTextAreaComponent from \"../CustomeTextAreaComponent\";\nimport { ICompanyRes } from \"../../services/utils/api/models\";\nimport classnames from 'classnames'\nimport {stat} from \"fs\";\nimport {calculateLeafs} from \"../../services/utils/calculateOptions\";\n\n// declare function fromType<T extends boolean>(\n//   x: T\n// ): T extends true\n//   ? IAdminCreateCompanyFormikState\n//   : ICompanyikState;\n\ninterface IProps<T> {\n  status: \"admin-create\" | \"company-edit\";\n  initialValue: T;\n}\n\nconst CompanyForm = <T extends IAdminCreateCompanyFormikState | ICompanyRes>({\n  status,\n  initialValue,\n}: IProps<T>) => {\n\tconst canCreate= status === 'admin-create'\n\tconst canEdit= status === 'company-edit'\n  return (\n    <div>\n      <Formik<T, {}>\n        initialValues={initialValue}\n        validationSchema={\n          status === \"admin-create\"\n            ? adminCreatevalidationSchema\n            : companyEditValitionSchema\n        }\n        onSubmit={(values, { setSubmitting }) => {\n          console.log(values);\n        }}\n      >\n        {({ isSubmitting, values }) => (\n          <Form className=\"form-horizontal mt-4\">\n            <div className=\"row\">\n              {canCreate && (\n                <div className=\"col-md-4\">\n                  <Field\n                    label=\"نام کاربری\"\n                    type=\"text\"\n                    name=\"username\"\n                    component={CustomInputComponent}\n                  />\n                  <Field\n                    label=\"رمز عبور\"\n                    type=\"text\"\n                    name=\"password1\"\n                    component={CustomInputComponent}\n                  />\n                  <Field\n                    label=\"تکرار رمز عبور\"\n                    type=\"text\"\n                    name=\"password2\"\n                    component={CustomInputComponent}\n                  />\n                </div>\n              )}\n              <div className={classnames({'col-md-4' : canCreate , 'col-md-6' : canEdit})}>\n                <Field\n                  label=\"نام شرکت\"\n                  type=\"text\"\n                  name=\"name\"\n                  component={CustomInputComponent}\n                />\n                <Field\n                  label=\"نام مدیر عامل\"\n                  type=\"text\"\n                  name=\"manager_name\"\n                  component={CustomInputComponent}\n                />\n                <Field\n                  label=\"شماره همراه\"\n                  type=\"text\"\n                  name=\"mobile_number\"\n                  component={CustomInputComponent}\n                />\n              </div>\n              <div className={classnames({'col-md-4' : canCreate , 'col-md-6' : canEdit})}>\n                <Field\n                  label=\"شماره تلفن شرکت\"\n                  type=\"text\"\n                  name=\"phone_number\"\n                  component={CustomInputComponent}\n                />\n                <Field\n                  label=\"آدرس سایت\"\n                  type=\"text\"\n                  name=\"website\"\n                  component={CustomInputComponent}\n                />\n                <Field\n\t\t\t\tlabel=\"فیلد کاری\"\n\t\t\t\tcalculateOptions={calculateLeafs}\n                  type=\"text\"\n                  name=\"category\"\n                  component={CustomeSelectCategory}\n                />\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-md-6\">\n                <Field\n                  name=\"address\"\n                  component={CustomeTextAreaComponent}\n                  rows={4}\n                  label=\"آدرس\"\n                  type=\"text\"\n                />\n                <Field name=\"location\" component={CompanyMap} />\n              </div>\n              <div className=\"col-md-6\">\n                <Field\n                  label=\"شرح فعالیت\"\n                  type=\"text\"\n                  name=\"description\"\n                  component={CustomeTextAreaComponent}\n                  rows={20}\n                  className=\"mt-md-0 mt-3\"\n                />\n              </div>\n            </div>\n\n            {/* <div className=\"row\">\n              {status === \"admin-create\" && (\n                <>\n                  <div className=\"col-12 col-md-6 col-xl-4 \">\n                    <Field\n                      label=\"تاریخ شروع فعالیت:\"\n                      type=\"text\"\n                      name=\"start_date\"\n                      component={CustomeCalanderComponent}\n                    />\n                  </div>\n                  <div className=\" col-12 col-md-6 col-xl-4\">\n                    <Field\n                      label=\"تاریخ پایان فعالیت:\"\n                      type=\"text\"\n                      name=\"end_date\"\n                      component={CustomeCalanderComponent}\n                    />\n                  </div>\n                </>\n              )}\n              <div\n                className={`col-12 ${\n                  status === \"admin-create\" ? \"col-xl-4\" : \"\"\n                }  mb-2`}\n              >\n                <Field\n                  name=\"location\"\n                  component={CustomInputComponent}\n                  label=\"آدرس:\"\n                  type=\"text\"\n                />\n                <CompanyMap />\n              </div>\n            </div> */}\n\n            <button type=\"submit\" className=\"btn btn-success\">\n              <i className=\"fa fa-check\" />{\" \"}\n              {canCreate ? \"ثبت شرکت\" : \"ارسال درخواست تفییر\"}\n            </button>\n\n            {JSON.stringify(values, null, 2)}\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nexport default CompanyForm;\n"],"sourceRoot":""}